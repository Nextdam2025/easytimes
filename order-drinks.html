<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Easytimes Order Menu</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body {
      font-family: 'Roboto', sans-serif;
      background: #000;
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden; overflow-y: auto;
    }
    body {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      position: relative;
      z-index: 1;
    }
    img.logo {
      width: 150px; max-width: 60%;
      margin-bottom: 15px;
      animation: floatLogo 2s ease-in-out infinite alternate;
      border-radius: 20px;
    }
    img.bottom-logo {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  opacity: 0.8;
  z-index: 10;
  animation: none;
}

    @keyframes floatLogo {
      to { transform: translateY(-8px); }
    }
    video.bg-video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  opacity: 0.3;
  z-index: -1;
}
    

.item:hover {
  transform: scale(1.05);
  box-shadow: 0 0 10px #fff3;
}

    .orange-frame {
      position: fixed; top: 0; left: 0;
      width: 100vw; height: 100vh;
      border: 10px solid #f26522;
      box-sizing: border-box; pointer-events: none;
      z-index: 10001;
    }
    .table-selection {
      background: #111; padding: 20px; border-radius: 10px;
      width: 100%; max-width: 500px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.6);
      text-align: center; margin: 20px auto;
    }
    .table-label {
      font-weight: bold; color: #CD7F2F;
      font-size: 1.2rem; margin-bottom: 10px;
      display: block; text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    #table-number {
      font-size: 1rem; padding: 10px 14px;
      border: 2px solid #CD7F2F; border-radius: 8px;
      background: #222; color: #fff;
      width: 100%; max-width: 220px;
      transition: border-color 0.3s;
    }
    #table-number:focus {
      outline: none; border-color: #FFA500;
    }
    .section-title {
  margin-top: 30px;
  font-size: 1.8rem;
  font-weight: bold;
  color: #FFA500;
  text-align: center;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.menu {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 15px;
  padding: 20px;
  max-width: 1000px;
  margin: 0 auto;
}

.item {
  padding: 15px 20px;
  border-radius: 12px;
  color: #fff;
  font-weight: bold;
  font-size: 1rem;
  text-align: center;
  cursor: pointer;
  min-width: 120px;
  max-width: 200px;
  transition: transform 0.2s, box-shadow 0.2s;
}

.item:hover {
  transform: scale(1.05);
  box-shadow: 0 0 10px #fff3;
}

  </style>
</head>
<body>
  <video class="bg-video" autoplay muted loop playsinline>
    <source src="Smoke_4___45s___4k_res.mp4" type="video/mp4">
  </video>
  <div class="orange-frame"></div>

  <!-- Back button -->
  <div style="text-align:center; margin:20px;">
    <button onclick="location.href='index.html'"
            style="padding:10px 20px; font-size:1rem; border-radius:10px;
                   background:#ffffff10; border:none; color:white; cursor:pointer;">
      ⬅ Back to Home
    </button>
  </div>

  <!-- Top Logo -->
  <img src="https://d146j8l6ymhf1q.cloudfront.net/webshop/B52DEAB9-9609-4876-B187-64C952745254-e1617724463401.png"
       alt="Easytimes Logo" class="logo"/>

  <!-- Table select -->
  <div class="table-selection">
    <label for="table-number" class="table-label">Select Table:</label>
    <select id="table-number">
      <option value="">--Select Table--</option>
      <option value="1">Table 1</option>
      <option value="2">Table 2</option>
      <option value="3">Table 3</option>
      <option value="4">Table 4</option>
      <option value="5">Table 5</option>
      <option value="6">Table 6</option>
    </select>
  </div>

  <!-- Hot & Cold menus… (unchanged) -->
  <div class="section-title">Hot Drinks</div>
  <div class="menu" id="hot-drinks">
    <div class="item" style="background-color:#CD7F2F" 
       onclick='prepareOptions({ name: "Espresso", articleNumber: 102, price: 3.50, buttonColor: "#CD7F2F", options: [ { name: "Whipped Cream", price: 1.00 }, { name: "Extra Oatmilk", price: 1.00 }, { name: "Syrup", price: 1.00 } ] })'>
    Espresso (€3,50)
  </div>
  <div class="item" style="background-color:#8B4513" 
       onclick='prepareOptions({ name: "Doppio", articleNumber: 202, price: 4.00, buttonColor: "#8B4513", options: [ { name: "Extra Oatmilk", price: 1.00 }, { name: "Whipped Cream", price: 1.00 }, { name: "Syrup", price: 1.00 } ] })'>
    Doppio (€4,00)
  </div>
  <div class="item" style="background-color:#4B3621" 
       onclick='prepareOptions({ name: "Black Coffee", articleNumber: 203, price: 3.50, buttonColor: "#4B3621", options: [ { name: "Whipped Cream", price: 1.00 }, { name: "Extra Oatmilk", price: 1.00 }, { name: "Syrup", price: 1.00 } ] })'>
    Black Coffee (€3,50)
  </div>
  <div class="item" style="background-color:#7B3F00" 
       onclick='prepareOptions({ name: "Americano", articleNumber: 204, price: 3.50, buttonColor: "#7B3F00", options: [ { name: "Extra Oatmilk", price: 1.00 }, { name: "Whipped Cream", price: 1.00 }, { name: "Syrup", price: 1.00 } ] })'>
    Americano (€3,50)
  </div>
  <div class="item" style="background-color:#A0522D" 
       onclick='prepareOptions({ name: "Cappuccino", articleNumber: 102, price: 4.00, buttonColor: "#CD7F2F", options: [ { name: "Whipped Cream", price: 1.00 }, { name: "Extra Oatmilk", price: 1.00 }, { name: "Syrup", price: 1.00 } ] })'>
    Cappuccino (€4,00)
  </div>
  <div class="item" style="background-color:#D4A76A" 
       onclick='prepareOptions({ name: "Flavored Latte", articleNumber: 205, price: 5.00, buttonColor: "#D4A76A", options: [ { name: "Hazelnuts", price: 0 }, { name: "Caramel", price: 0 } ] })'>
    Flavored Latte (€5,00)
  </div>
  <div class="item" style="background-color:#BC8F8F" 
       onclick='prepareOptions({ name: "Cafe Latte", articleNumber: 206, price: 4.50, buttonColor: "#BC8F8F", options: [ { name: "Extra Oatmilk", price: 1.00 } ] })'>
    Cafe Latte (€4,50)
  </div>
  <div class="item" style="background-color:#CD853F" 
       onclick='prepareOptions({ name: "Latte Macchiato", articleNumber: 207, price: 4.50, buttonColor: "#CD853F", options: [ { name: "Whipped Cream", price: 1.00 }, { name: "Syrup", price: 1.00 } ] })'>
    Latte Macchiato (€4,50)
  </div>
  <div class="item" style="background-color:#8B0000" 
       onclick='prepareOptions({ name: "Coffee Mocca", articleNumber: 208, price: 5.00, buttonColor: "#8B0000", options: [ { name: "Extra Shot Espresso", price: 1.00 }, { name: "Whipped Cream", price: 1.00 } ] })'>
    Coffee Mocca (€5,00)
  </div>
  <div class="item" style="background-color:#A52A2A" 
       onclick='prepareOptions({ name: "Hot Chocolate", articleNumber: 209, price: 4.00, buttonColor: "#A52A2A", options: [ { name: "Whipped Cream", price: 1.00 } ] })'>
    Hot Chocolate (€4,00)
  </div>
  <div class="item" style="background-color:#C0D860" 
       onclick='prepareOptions({ name: "Tea", articleNumber: 301, price: 3.50, buttonColor: "#1E90FF", options: [ { name: "Extra Lemon", price: 1.00 }, { name: "Extra Ginger", price: 1.00 }, { name: "Extra Orange Blossom", price: 1.00 }, { name: "Louiza", price: 1.00 } ] })'>
    Tea (€3,50)
  </div>
  <div class="item" style="background-color:#C0D860" 
       onclick='prepareOptions({ name: "Fresh Mint Tea", articleNumber: 301, price: 4.50, buttonColor: "#1E90FF", options: [ { name: "Extra Lemon", price: 0.50 }, { name: "Extra Ginger", price: 0.50 }, { name: "Extra Orange Blossom", price: 0.50 }, { name: "Louiza", price: 0.50 } ] })'>
    Fresh Mint Tea (€4,50)
  </div>
  </div>

  <div class="section-title">Cold Drinks</div>
  <div class="menu" id="cold-drinks">
    <div class="item" style="background-color:#F40009" 
       onclick='prepareOptions({ name: "Coca-Cola", articleNumber: 401, price: 4.00, buttonColor: "#F40009", options: [ { name: "Added Ice", price: 0.20 } ] })'>
    Coca-Cola (€4,00)
  </div>
  <div class="item" style="background-color:#000000" 
       onclick='prepareOptions({ name: "Coca-Cola Zero", articleNumber: 402, price: 4.00, buttonColor: "#000000", options: [] })'>
    Coca-Cola Zero (€4,00)
  </div>
  <div class="item" style="background-color:#FF6600" 
       onclick='prepareOptions({ name: "Fanta Orange", articleNumber: 403, price: 4.00, buttonColor: "#FF6600", options: [] })'>
    Fanta Orange (€4,00)
  </div>
  <div class="item" style="background-color:#541E64" 
       onclick='prepareOptions({ name: "Fanta Cassis", articleNumber: 404, price: 4.00, buttonColor: "#541E64", options: [] })'>
    Fanta Cassis (€4,00)
  </div>
  <div class="item" style="background-color:#87CEFA" 
       onclick='prepareOptions({ name: "Still Water", articleNumber: 405, price: 3.50, buttonColor: "#87CEFA", options: [] })'>
    Still Water (€3,50)
  </div>
  <div class="item" style="background-color:#00CED1" 
       onclick='prepareOptions({ name: "Sparkling Water", articleNumber: 406, price: 3.50, buttonColor: "#00CED1", options: [] })'>
    Sparkling Water (€3,50)
  </div>
  <div class="item" style="background-color:#50B848" 
       onclick='prepareOptions({ name: "Sprite", articleNumber: 407, price: 4.00, buttonColor: "#50B848", options: [] })'>
    Sprite (€4,00)
  </div>
  <div class="item" style="background-color:#FFD700" 
       onclick='prepareOptions({ name: "Chocomel", articleNumber: 408, price: 4.00, buttonColor: "#FFD700", options: [] })'>
    Chocomel (€4,00)
  </div>
  <div class="item" style="background-color:#FBB040" 
       onclick='prepareOptions({ name: "Iced Tea Peach/Mango", articleNumber: 409, price: 4.00, buttonColor: "#FBB040", options: [ { name: "Peach", price: 0 }, { name: "Mango", price: 0 } ] })'>
    Iced Tea Peach/Mango (€4,00)
  </div>
  <div class="item" style="background-color:#E6D117" 
       onclick='prepareOptions({ name: "Iced Tea Lemon Sparkling", articleNumber: 410, price: 4.00, buttonColor: "#E6D117", options: [] })'>
    Iced Tea Lemon Sparkling (€4,00)
  </div>
  <div class="item" style="background-color:#BDB76B" 
       onclick='prepareOptions({ name: "Royal Bliss Bitter Lemon", articleNumber: 411, price: 4.00, buttonColor: "#BDB76B", options: [] })'>
    Royal Bliss Bitter Lemon (€4,00)
  </div>
  <div class="item" style="background-color:#D4AF37" 
       onclick='prepareOptions({ name: "Royal Bliss Ginger Ale", articleNumber: 412, price: 4.00, buttonColor: "#D4AF37", options: [] })'>
    Royal Bliss Ginger Ale (€4,00)
  </div>
  <div class="item" style="background-color:#D8BFD8" 
       onclick='prepareOptions({ name: "Looza (Pear/Strawberry/Peach)", articleNumber: 413, price: 4.00, buttonColor: "#D8BFD8", options: [ { name: "Pear", price: 0 }, { name: "Strawberry", price: 0 }, { name: "Peach", price: 0 } ] })'>
    Looza (Pear/Strawberry/Peach) (€4,00)
  </div>
  <div class="item" style="background-color:#FA8072" 
       onclick='prepareOptions({ name: "Minute Maid Juices", articleNumber: 414, price: 4.00, buttonColor: "#FA8072", options: [ { name: "Orange", price: 0 }, { name: "Apple", price: 0 } ] })'>
    Minute Maid (Orange/Apple) (€4,00)
  </div>
  <div class="item" style="background-color:#7CFC00" 
       onclick='prepareOptions({ name: "AA Energy Drink", articleNumber: 415, price: 4.00, buttonColor: "#7CFC00", options: [] })'>
    AA Energy Drink (€4,00)
  </div>
  <div class="item" style="background-color:#C8102E" 
       onclick='prepareOptions({ name: "Red Bull Energy Drink", articleNumber: 416, price: 5.00, buttonColor: "#C8102E", options: [] })'>
    Red Bull Energy Drink (€5,00)
  </div>
  </div>

  <!-- Main order summary -->
  <div class="order-summary">
    <h2>Order Summary</h2>
    <ul id="orderList"></ul>
    <div class="payment-selection" style="text-align:center; margin-top:15px;">
      <label for="payment-method">Payment Method:</label>
      <select id="payment-method"
              style="padding:8px; margin-left:10px; border-radius:5px;">
        <option value="cash">Cash</option>
        <option value="credit">Credit</option>
      </select>
    </div>
    <button class="confirm-btn" onclick="sendOrder()">Confirm Order</button>
  </div>

  <!-- Option modal -->
  <div id="optionModal" class="option-modal" style="display:none">
    <div class="option-box">
      <h3 id="optionTitle"></h3>
      <div id="optionList"></div>
      <button onclick="confirmOptions()">Add to Order</button>
      <button onclick="closeModal()" style="margin-top:5px;">Close</button>
    </div>
  </div>

  <!-- Mini cart -->
  <div id="mini-cart"></div>

  <script>
    const botToken = "7627172769:AAH7I_2LRd0VqZuMOpVxRn_vZbt4QXPn9wU";
    const chatId = "5462781265";
    let orderList = [];
    let selectedArticle = null;
    let selectedTable = null;
    
    // Notification Function
    function showNotification(message) {
      const notification = document.getElementById("notification");
      notification.textContent = message;
      notification.classList.add("show");
      setTimeout(() => {
        notification.classList.remove("show");
      }, 3000);
    }
    
    // Capture Table Selection
    document.getElementById("table-number").addEventListener("change", function () {
      selectedTable = this.value;
    });
    
    // Prepare Options Modal
    function prepareOptions(article) {
      if (!selectedTable) {
        showNotification("Please select a table first!");
        return;
      }
      selectedArticle = article;
      document.getElementById("optionTitle").innerText = `Options for ${article.name}`;
      const optionList = document.getElementById("optionList");
      optionList.innerHTML = "";
      article.options.forEach((opt, index) => {
        const checkbox = document.createElement("label");
        checkbox.innerHTML = `<input type='checkbox' data-index='${index}'> ${opt.name} (+€${opt.price.toFixed(2)})`;
        optionList.appendChild(checkbox);
      });
      document.getElementById("optionModal").style.display = "flex";
    }
    
    // Confirm Options and Update Order
    function confirmOptions() {
      const selectedOptions = [];
      let extraPrice = 0;
      const inputs = document.querySelectorAll("#optionList input[type=checkbox]");
      inputs.forEach((input) => {
        if (input.checked) {
          const opt = selectedArticle.options[parseInt(input.dataset.index)];
          selectedOptions.push(opt);
          extraPrice += opt.price;
        }
      });
      orderList.push({
        ...selectedArticle,
        selectedOptions: selectedOptions,
        totalPrice: selectedArticle.price + extraPrice
      });
      updateOrderList();
      updateMiniCart();
      document.getElementById("optionModal").style.display = "none";
    }
    
    function removeFromOrder(index) {
      orderList.splice(index, 1);
      updateOrderList();
      updateMiniCart();
    }
    
    // Update Main Order List
    function updateOrderList() {
      const list = document.getElementById("orderList");
      list.innerHTML = "";
      orderList.forEach((item, index) => {
        const options = item.selectedOptions?.map(opt => opt.name).join(", ") || "";
        list.innerHTML += `
          <li>
            #${item.articleNumber} ${item.name} (€${item.totalPrice.toFixed(2)})
            ${options ? `<br><small>+ ${options}</small>` : ""}
            <button class="remove-btn" onclick="removeFromOrder(${index})">×</button>
          </li>
        `;
      });
    }
    
    // Update Mini Cart with Live Order Preview and Total Price
    let miniCartIdleTimeout;
    function updateMiniCart() {
      const miniCart = document.getElementById("mini-cart");
      let miniHTML = `<h3>Basket</h3><ul>`;
      let total = 0;
      orderList.forEach(item => {
        miniHTML += `<li>${item.name} - €${item.totalPrice.toFixed(2)}</li>`;
        total += item.totalPrice;
      });
      miniHTML += `</ul><div class="total">Total: €${total.toFixed(2)}</div>`;
      miniCart.innerHTML = miniHTML;
      miniCart.classList.add("show");
      resetMiniCartIdleTimer();
    }
    
    // Auto-hide Mini Cart after 10 seconds of inactivity
    function resetMiniCartIdleTimer() {
      clearTimeout(miniCartIdleTimeout);
      miniCartIdleTimeout = setTimeout(() => {
        document.getElementById("mini-cart").classList.remove("show");
      }, 10000);
    }
    
    // Send Order Functionality
    function sendOrder() {
      if (orderList.length === 0) {
        showNotification("No items in order!");
        return;
      }
      const paymentMethod = document.getElementById("payment-method").value;
      let text = `🇎 New Order from Table ${selectedTable}:\n`;
      orderList.forEach(item => {
        text += `#${item.articleNumber} ${item.name} (€${item.totalPrice.toFixed(2)})\n`;
        if (item.selectedOptions && item.selectedOptions.length > 0) {
          text += `  → ${item.selectedOptions.map(o => o.name + ` (+€${o.price.toFixed(2)})`).join(", ")}\n`;
        }
      });
      text += `Payment: ${paymentMethod}`;
    
      fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(text)}`)
        .then(res => res.json())
        .then(data => {
          if (data.ok) {
            showNotification("✅ Order sent successfully!");
            orderList = [];
            selectedTable = null;
            document.getElementById("table-number").value = "";
            document.getElementById("payment-method").value = "cash";
            updateOrderList();
            updateMiniCart();
            window.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(() => { window.location.href = 'index.html'; }, 3000);
          } else {
            showNotification("Error sending order");
          }
        });
    }
    
    // Option Modal Close Function
    function closeModal() {
      document.getElementById("optionModal").style.display = "none";
    }

    /* IDLE VIDEO SLIDESHOW HANDLER */
let slideshowIdleTimeout;
const videoFiles = ['grinderz.mp4', 'tea.mov'];
let currentVideoIndex = 0;

// 1) Create the overlay container
const videoOverlay = document.createElement('div');
Object.assign(videoOverlay.style, {
  position: 'fixed',
  top: 0, left: 0,
  width: '100%', height: '100%',
  backgroundColor: '#000',
  zIndex: '4',            // under .orange-frame (10001)
  display: 'none',
  flexDirection: 'column',
  alignItems: 'center',
  justifyContent: 'center',
  transition: 'opacity 1s ease, transform 1s ease',
  opacity: '0',
  transform: 'scale(0.9)'
});

// 2) Logo
const videoLogo = document.createElement('img');
videoLogo.src = 'EASY TIMES LOGO BLACK-01.png';
videoLogo.alt = 'Easytimes Logo';
videoLogo.style.width = '200px';
videoLogo.style.margin = '40px 0 20px';

// 3) Message
const videoMessage = document.createElement('div');
videoMessage.innerText = 'CLICK THE SCREEN TO ORDER DRINKS';
Object.assign(videoMessage.style, {
  color: '#FFA500',
  fontSize: '2rem',
  fontWeight: 'bold',
  textAlign: 'center',
  textShadow: '1px 1px 4px black',
  marginBottom: '30px'
});

// 4) Framed video container
const videoFrame = document.createElement('div');
videoFrame.classList.add('video-frame');  // uses your CSS .video-frame rules

// 5) The slideshow <video> itself
const video = document.createElement('video');
video.id = 'slideshowVideo';
video.muted = true;
video.controls = false;
videoFrame.appendChild(video);

// 6) Assemble and add to document
videoOverlay.append(videoLogo, videoMessage, videoFrame);
document.body.appendChild(videoOverlay);

// 7) Playback logic
function playNextVideo() {
  video.src = videoFiles[currentVideoIndex];
  video.load();
  video.play().catch(() => {});
  currentVideoIndex = (currentVideoIndex + 1) % videoFiles.length;
}
video.addEventListener('ended', playNextVideo);
video.addEventListener('error', playNextVideo);

// 8) Idle/reset timer
function resetSlideshowIdle() {
  clearTimeout(slideshowIdleTimeout);
  video.pause();
  videoOverlay.style.opacity = '0';
  videoOverlay.style.transform = 'scale(0.9)';
  setTimeout(() => videoOverlay.style.display = 'none', 800);

  slideshowIdleTimeout = setTimeout(() => {
    videoOverlay.style.display = 'flex';
    requestAnimationFrame(() => {
      videoOverlay.style.opacity = '1';
      videoOverlay.style.transform = 'scale(1)';
    });
    currentVideoIndex = 0;
    playNextVideo();
  }, 25000);  // 25 seconds
}

// 9) Hook up user activity
['click','mousemove','keydown','touchstart'].forEach(evt =>
  document.addEventListener(evt, resetSlideshowIdle)
);
videoOverlay.addEventListener('click', resetSlideshowIdle);

// 10) Kick it off
resetSlideshowIdle();

</script>
    <!-- Bottom Logo -->
  <img src="https://d146j8l6ymhf1q.cloudfront.net/webshop/B52DEAB9-9609-4876-B187-64C952745254-e1617724463401.png"
       alt="Easytimes Bottom Logo" class="logo bottom-logo"/>
</body>
</html>
